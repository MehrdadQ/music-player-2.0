(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{156:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),s=a.n(r),o=a(19),i=a(1),l=a(5),d=a(9),u=a(13),j=a(25),b=(a(156),a(29)),h=function(e,t){if(e){var a=t.current.play();void 0!==a&&a.then((function(e){t.current.play()}))}},O=a(2),g=function(e){var t=e.audioRef,a=e.currentSong,c=e.isPlaying,r=e.setIsPlaying,s=e.songInfo,o=e.setSongInfo,i=e.songs,l=e.setCurrentSong,u=e.setSongs;Object(n.useEffect)((function(){var e=i.map((function(e){return e.id===a.id?Object(d.a)(Object(d.a)({},e),{},{active:!0}):Object(d.a)(Object(d.a)({},e),{},{active:!1})}));u(e)}),[a]);var g=function(e){return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)},m=function(e){var n=i.findIndex((function(e){return e.id===a.id}));"skip-forward"===e?l(i[(n+1)%i.length]):(n-1)%i.length===-1?l(i[i.length-1]):l(i[(n-1)%i.length]),h(c,t)},p={transform:"translateX(".concat(s.animationPercentage,"%)")};return Object(O.jsxs)("div",{className:"player-container",children:[Object(O.jsxs)("div",{className:"time-control",children:[Object(O.jsx)("p",{children:s.currentTime?g(s.currentTime):"0:00"}),Object(O.jsxs)("div",{className:"track",style:{backgroundColor:a.colors[1]},children:[Object(O.jsx)("input",{min:0,max:s.duration||0,value:s.currentTime,type:"range",onChange:function(e){o(Object(d.a)(Object(d.a)({},s),{},{currentTime:e.target.value})),t.current.currentTime=e.target.value}}),Object(O.jsx)("div",{className:"animate-track",style:p})]}),Object(O.jsx)("p",{children:s.duration?g(s.duration):"0:00"})]}),Object(O.jsxs)("div",{className:"play-control",children:[Object(O.jsx)(j.a,{onClick:function(){return m("skip-back")},className:"skip-b",icon:b.a,size:"2x"}),Object(O.jsx)(j.a,{onClick:function(){c?(t.current.pause(),r(!c)):(t.current.play(),r(!c))},className:"play",icon:c?b.d:b.e,size:"2x"}),Object(O.jsx)(j.a,{onClick:function(){return m("skip-forward")},className:"skip-f",icon:b.b,size:"2x"})]})]})},m=function(e){var t=e.currentSong;return Object(O.jsxs)("div",{className:"song-container",children:[Object(O.jsx)("img",{src:t.cover,alt:"song cover"}),Object(O.jsx)("h2",{children:t.title}),Object(O.jsx)("h3",{children:t.artist})]})},p=a(137),x=a(34),v=a(26),f=Object(p.a)({apiKey:"AIzaSyDANKTKbaInmAh8RlYqX3zC8LmcAGfXfuw",authDomain:"music-player-9b74c.firebaseapp.com",projectId:"music-player-9b74c",storageBucket:"music-player-9b74c.appspot.com",messagingSenderId:"999084316900",appId:"1:999084316900:web:74b08c376f18278bd6f4f1",measurementId:"G-8W30LDR42K"}),y=Object(x.a)(f),w=function(e){var t=e.song,a=e.songs,n=e.currentUser,c=e.setCurrentSong,r=e.id,s=e.audioRef,o=e.isPlaying,i=e.setSongs;return Object(O.jsxs)("div",{className:"library-song ".concat(t.active?"selected":""),onClick:function(){c(t);var e=a.map((function(e){return e.id===r?Object(d.a)(Object(d.a)({},e),{},{active:!0}):Object(d.a)(Object(d.a)({},e),{},{active:!1})}));i(e),h(o,s)},children:[Object(O.jsx)("img",{src:t.cover,alt:"song cover"}),Object(O.jsxs)("div",{className:"song-description",children:[Object(O.jsx)("h3",{children:t.title}),Object(O.jsx)("h4",{children:t.artist})]}),null===n?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)("div",{className:"song-delete-button",onClick:function(e){e.stopPropagation(),console.log("deleting song ".concat(t.id)),Object(x.d)(Object(x.c)(y,"".concat(n.uid,"/songs/").concat(t.id)))},children:Object(O.jsx)(j.a,{icon:b.i})})]})},S=function(e){var t=e.songs,a=e.currentUser,n=e.setCurrentSong,c=e.isPlaying,r=e.audioRef,s=e.setSongs,o=e.libraryStatus,i=e.currentSong;return Object(O.jsxs)("div",{className:"library ".concat(o?"active-library":""),style:{backgroundColor:i.colors[2]},children:[Object(O.jsx)("h2",{children:"Library"}),0===t.length?Object(O.jsx)("p",{style:{"padding-left":"2rem"},children:"You don't have any songs in your playlist, add some using the plus button!"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("div",{className:"library-songs",children:t.map((function(e){return Object(O.jsx)(w,{songs:t,song:e,currentUser:a,setCurrentSong:n,id:e.id,audioRef:r,isPlaying:c,setSongs:s},e.id)}))})]})},C=a(278),k=a(279),N=a(281),L=a(143),P=a(280),T=a(276),I=a(277),H=a(138),M=a(86),z=a(282),A=function(e){var t=e.show,a=e.onHide,c=e.currentUser,r=Object(n.useState)(""),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(n.useState)(""),g=Object(u.a)(h,2),m=g[0],p=g[1],v=Object(n.useState)(""),f=Object(u.a)(v,2),w=f[0],S=f[1],P=Object(n.useState)("white"),T=Object(u.a)(P,2),I=T[0],z=T[1],A=Object(n.useState)("black"),E=Object(u.a)(A,2),F=E[0],_=E[1],G=Object(n.useState)("lightgray"),B=Object(u.a)(G,2),R=B[0],U=B[1];return Object(O.jsxs)(C.a,{show:t,onHide:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsx)(C.a.Title,{id:"contained-modal-title-vcenter",children:"Add new song"})}),Object(O.jsx)(C.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Song title"}),Object(O.jsx)(k.a.Control,{type:"text",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Artist"}),Object(O.jsx)(k.a.Control,{type:"text",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Cover photo link"}),Object(O.jsx)(k.a.Control,{type:"text",value:m,onChange:function(e){return p(e.target.value)}})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Audio link"}),Object(O.jsx)(k.a.Control,{type:"text",value:w,onChange:function(e){return S(e.target.value)}})]}),Object(O.jsx)(N.a,{defaultActiveKey:"0",children:Object(O.jsxs)(N.a.Item,{children:[Object(O.jsx)(N.a.Header,{children:"Customize Colors"}),Object(O.jsxs)(N.a.Body,{children:[Object(O.jsxs)(k.a.Group,{className:"flex mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Player Background Color"}),Object(O.jsx)(M.a,{color:I,onChangeComplete:function(e){return z(e.hex)}})]}),Object(O.jsxs)(k.a.Group,{className:"flex mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Tracker Color"}),Object(O.jsx)(M.a,{color:F,onChangeComplete:function(e){return _(e.hex)}})]}),Object(O.jsxs)(k.a.Group,{className:"flex mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Library Background Color"}),Object(O.jsx)(M.a,{color:R,onChangeComplete:function(e){return U(e.hex)}})]})]})]})})]})}),Object(O.jsx)(C.a.Footer,{children:Object(O.jsx)(L.a,{onClick:function(){return function(){var e=Object(H.a)(),t={title:o,artist:j,cover:m,audio:w,id:e,colors:[I,F,R]};Object(x.e)(Object(x.c)(y,"".concat(c.uid,"/songs/").concat(e)),t),i(""),b(""),p(""),S(""),z("rgb(255, 255, 255)"),_("rgb(0, 0, 0)"),U("rgb(255, 255, 255)")}()},children:"Add"})})]})},E=function(e){var t=e.show,a=e.setShowLoginSuccess;return Object(n.useEffect)((function(){var e=setTimeout((function(){a(!1)}),7e3);return function(){return clearTimeout(e)}}),[]),t?Object(O.jsx)(z.a,{children:Object(O.jsx)("div",{className:"wrapper",children:Object(O.jsx)("div",{className:"alert alert-success success-box",role:"alert",children:"Successfully logged in!"})})}):null},F=function(e){var t=e.show,a=e.onHide,n=e.setShowAddModal,c=e.setShowLoginModal;return Object(O.jsxs)(C.a,{show:t,onHide:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{children:Object(O.jsx)("h4",{children:"Login required"})}),Object(O.jsx)(C.a.Body,{children:"To add songs to your playlist, please log in or sign up if you don't have an account."}),Object(O.jsxs)(C.a.Footer,{children:[Object(O.jsx)(L.a,{variant:"secondary",onClick:function(){n(!1)},children:"Cancel"}),Object(O.jsx)(L.a,{variant:"primary",onClick:function(){n(!1),c(!0)},children:"Log in"})]})]})},_=function(e){var t=e.show,a=e.onHide,c=e.setCurrentUser,r=e.setShowLoginSuccess,s=e.setShowLoginModal,o=Object(n.useState)("login"),i=Object(u.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)(""),b=Object(u.a)(j,2),h=b[0],g=b[1],m=Object(n.useState)(""),p=Object(u.a)(m,2),x=p[0],f=p[1],y=Object(n.useState)(""),w=Object(u.a)(y,2),S=w[0],N=w[1],H=Object(n.useState)(""),M=Object(u.a)(H,2),z=M[0],A=M[1];Object(n.useEffect)((function(){A("")}),[l]);var E=function(e){g(""),f(""),N(""),d(e)},F=function(){a(),setTimeout((function(){E("login")}),300)};return"reset_password"===l?Object(O.jsxs)(C.a,{show:t,onHide:F,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsx)(C.a.Title,{id:"contained-modal-title-vcenter",children:"Reset Password"})}),Object(O.jsx)(C.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsxs)(k.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(k.a.Label,{children:"Email address"}),Object(O.jsx)(k.a.Control,{type:"email",placeholder:"Enter email",value:h,onChange:function(e){return g(e.target.value)}})]}),""!==z?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(P.a,{variant:"danger",className:"mt-3",children:z})}):Object(O.jsx)(O.Fragment,{})]})}),Object(O.jsxs)(C.a.Footer,{children:[Object(O.jsx)(L.a,{onClick:F,children:"Close"}),Object(O.jsx)(L.a,{onClick:function(){return function(){var e=Object(v.b)();Object(v.d)(e,h).then((function(){d("reset_email_sent")})).catch((function(e){"auth/invalid-email"===e.code?A("Invalid email address entered."):"auth/user-not-found"===e.code?A("We could not find an account associated with the email address you provided. Please check that you have entered the correct email address or create a new account."):"auth/too-many-requests"===e.code?A("Too many requests, please try again later."):A("An unexpected error occurred. Please try again later.")}))}()},disabled:""===h,children:"Reset Password"})]})]}):"reset_email_sent"===l?Object(O.jsxs)(C.a,{show:t,onHide:F,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsx)(C.a.Title,{children:"Password reset email sent"})}),Object(O.jsx)(C.a.Body,{children:"A request to reset your password has been sent to your email address."}),Object(O.jsx)(C.a.Footer,{children:Object(O.jsx)(L.a,{variant:"secondary",onClick:F,children:"Close"})})]}):"reset_password"!==l?Object(O.jsxs)(C.a,{show:t,onHide:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{className:"ps-5",closeButton:!0,children:Object(O.jsxs)(T.a,{type:"radio",name:"options",defaultValue:1,children:[Object(O.jsx)(I.a,{className:"shadow-none",type:"checkbox",variant:"outline-primary",checked:"login"===l,onClick:function(){return E("login")},children:"Log in"}),Object(O.jsx)(I.a,{className:"shadow-none",type:"checkbox",variant:"outline-primary",checked:"signup"===l,onClick:function(){return E("signup")},children:"Sign Up"})]})}),Object(O.jsxs)(C.a.Body,{className:"p-5",children:[Object(O.jsxs)(k.a,{children:[Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Email"}),Object(O.jsx)(k.a.Control,{type:"email",placeholder:"Enter email",value:h,onChange:function(e){return g(e.target.value)}})]}),Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Password"}),Object(O.jsx)(k.a.Control,{type:"password",placeholder:"Enter password",value:x,onChange:function(e){return f(e.target.value)}})]}),"signup"===l?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(k.a.Group,{className:"mb-3",children:[Object(O.jsx)(k.a.Label,{children:"Confirm Password"}),Object(O.jsx)(k.a.Control,{type:"password",placeholder:"Confirm password",value:S,onChange:function(e){return N(e.target.value)}})]})}):Object(O.jsx)(O.Fragment,{}),"login"===l?Object(O.jsx)("div",{className:"d-flex justify-content-end",children:Object(O.jsx)("p",{className:"text-primary font-weight-bold text-sm",variant:"secondary",onClick:function(){d("reset_password")},style:{cursor:"pointer"},children:"Forgot your password?"})}):Object(O.jsx)(O.Fragment,{})]}),""!==z?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(P.a,{variant:"danger",className:"mt-3",children:z})}):Object(O.jsx)(O.Fragment,{}),"signup"===l&&x.length<6&&""!==x?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(P.a,{variant:"danger",className:"mt-3",children:"Password should be at least 6 characters"})}):"signup"===l&&x!==S&&""!==S?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(P.a,{variant:"danger",className:"mt-3",children:"Passwords do not match"})}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)(C.a.Footer,{className:"ps-5 pe-5",children:Object(O.jsx)(L.a,{className:"w-100",disabled:"signup"===l&&(x!==S||x.length<6)||""===h,onClick:"signup"===l?function(){!function(){var e=Object(v.b)();Object(v.a)(e,h,x).then((function(e){c(e.user),r(!0),s(!1)})).catch((function(e){"auth/email-already-in-use"===e.code?A("The email address you provided is already in use. Please try a different email address."):"auth/invalid-email"===e.code?A("Invalid email address entered."):"auth/operation-not-allowed"===e.code?A("This operation is not allowed. Please contact the site administrator for more information."):"auth/weak-password"===e.code?A("The password you provided is not strong enough. Please choose a stronger password."):A(e.message)}))}()}:function(){!function(){var e=Object(v.b)();Object(v.e)(e,h,x).then((function(e){c(e.user),s(!1),r(!0)})).catch((function(e){"auth/invalid-email"===e.code?A("Invalid email address entered."):"auth/user-not-found"===e.code?A("The email address you entered is not registered. Please check the email address and try again, or sign up for a new account."):"auth/wrong-password"===e.code?A("The password you entered is incorrect. Please try again."):"auth/user-disabled"===e.code?A("Your account has been disabled. Please contact the site administrator for more information."):"auth/too-many-requests"===e.code?A("There have been too many failed login attempts. Please try again later."):A(e.message)}))}()},children:"login"===l?"Log in":"Sign up"})})]}):Object(O.jsx)(O.Fragment,{})},G=function(e){var t=e.showLogoutModal,a=e.setShowLogoutModal;return Object(O.jsxs)(C.a,{show:t,onHide:function(){return a(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsx)(C.a.Title,{children:"Sign Out"})}),Object(O.jsx)(C.a.Body,{children:"Are you sure you want to sign out?"}),Object(O.jsxs)(C.a.Footer,{children:[Object(O.jsx)(L.a,{variant:"secondary",onClick:function(){return a(!1)},children:"Cancel"}),Object(O.jsx)(L.a,{variant:"danger",onClick:function(){var e=Object(v.b)();Object(v.f)(e),window.location.reload()},children:"Sign Out"})]})]})},B=c.a.memo((function(e){var t=e.libraryStatus,a=e.setLibraryStatus,c=e.currentUser,r=e.setCurrentUser,s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),g=h[0],m=h[1],p=Object(n.useState)(!1),x=Object(u.a)(p,2),v=x[0],f=x[1],y=Object(n.useState)(!1),w=Object(u.a)(y,2),S=w[0],C=w[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("nav",{children:[null===c?Object(O.jsx)("button",{onClick:function(){return m(!0)},children:Object(O.jsx)(j.a,{icon:b.g,size:"2x"})}):Object(O.jsx)("button",{onClick:function(){return f(!v)},children:Object(O.jsx)(j.a,{icon:b.h,size:"2x"})}),Object(O.jsx)("button",{onClick:function(){return a(!t)},children:Object(O.jsx)(j.a,{icon:b.c,size:"2x"})}),Object(O.jsx)("button",{onClick:function(){return l(!i)},children:Object(O.jsx)(j.a,{icon:b.f,size:"2x"})})]}),Object(O.jsx)(E,{show:S,onHide:function(){return C(!1)},setShowLoginSuccess:C}),c?Object(O.jsx)(A,{show:i,onHide:function(){return l(!1)},currentUser:c}):Object(O.jsx)(F,{show:i,onHide:function(){return l(!1)},setShowLoginModal:m,setShowAddModal:l}),Object(O.jsx)(_,{show:g,onHide:function(){return m(!1)},setCurrentUser:r,setShowLoginSuccess:C,setShowLoginModal:m}),Object(O.jsx)(G,{showLogoutModal:v,setShowLogoutModal:f})]})})),R=(a(264),a(39)),U=[{title:"Calm River",artist:"Lesfm",cover:"https://i.pinimg.com/originals/d6/18/78/d61878a7cfd287a204e645118f7c22fb.jpg",id:Object(R.v4)(),colors:["rgb(120,218,239)","rgb(28,138,169)","rgb(180,218,239)"],audio:"https://cdn.pixabay.com/audio/2021/08/11/audio_be8e122dc7.mp3"},{title:"Physical",artist:"Mepa ExyZ",cover:"https://i1.sndcdn.com/artworks-000641681800-manbde-t500x500.jpg",id:Object(R.v4)(),colors:["rgb(179,164,194)","rgb(120, 90, 130)","rgb(132,161,203)"],audio:"https://cdn.pixabay.com/audio/2021/09/06/audio_555a888e1b.mp3"},{title:"Where are we now",artist:"beetpro",cover:"https://assets.pinshape.com/uploads/user/avatar/1218825/cover_1551241507.png",id:Object(R.v4)(),colors:["rgb(201,149,99)","rgb(29,19,82)","rgb(104,182,231)"],audio:"https://cdn.pixabay.com/audio/2021/03/07/audio_1d411f3a4c.mp3"},{title:"Cosy",artist:"Prigida",cover:"https://cdn.musicvine.com/images/prigida-avatar-v1_6180582698519834.jpg",id:Object(R.v4)(),colors:["rgb(85,148,161)","rgb(30,66,71)","rgb(175,180,146)"],audio:"https://cdn.uppbeat.io/audio-output/258/5856/main-version/streaming-previews/STREAMING-cosy-prigida-main-version-02-58-17021.mp3"},{title:"Dream Slow",artist:"Wisanga",cover:"https://cdn.uppbeat.io/images/Wisanga_Avatar_4157365593534235.jpg",id:Object(R.v4)(),colors:["rgb(143,197,220)","rgb(1,38,72)","rgb(212,160,204)"],audio:"https://cdn.uppbeat.io/audio-output/471/6799/main-version/streaming-previews/STREAMING-dream-slow-wisanga-main-version-02-19-20578.mp3"},{title:"Lucidity",artist:"FE77A",cover:"https://cdn.musicvine.com/images/fe77a-avatar_8827208227206825.jpg",id:Object(R.v4)(),colors:["rgb(114,134,172)","rgb(72,64,74)","rgb(176,166,131)"],audio:"https://cdn.uppbeat.io/audio-output/432/1113/main-version/streaming-previews/STREAMING-lucidity-fe77a-main-version-02-28-3710.mp3"},{title:"4am",artist:"noxz",cover:"https://cdn.musicvine.com/images/noxz-avatar-v1_5269450939293254.jpg",id:Object(R.v4)(),colors:["rgb(170,170,176)","rgb(90,91,95)","rgb(217,220,167)"],audio:"https://cdn.uppbeat.io/audio-output/249/1657/main-version/streaming-previews/STREAMING-4am-noxz-main-version-02-20-5868.mp3"},{title:"Snowfall",artist:"walz",cover:"https://cdn.musicvine.com/images/walz-avatar-v2_8353515061791827.jpg",id:Object(R.v4)(),colors:["rgb(252,211,182)","rgb(63,52,41)","rgb(241,238,236)"],audio:"https://cdn.uppbeat.io/audio-output/240/5935/main-version/streaming-previews/STREAMING-snowfall-walz-main-version-02-12-17217.mp3"},{title:"Selfless",artist:"SENSHO",cover:"https://cdn.musicvine.com/images/Sensho_Avatar_1955111997031914.jpg",id:Object(R.v4)(),colors:["rgb(243,222,172)","rgb(70,86,196)","rgb(163,183,109)"],audio:"https://cdn.uppbeat.io/audio-output/395/190/main-version/streaming-previews/STREAMING-selfless-sensho-main-version-02-14-883.mp3"}],W=a(145);a(267).config();var q=function(e){var t=e.show,a=e.onHide;return Object(O.jsxs)(C.a,{show:t,onHide:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(C.a.Header,{children:Object(O.jsx)("h4",{children:"Welcome to the Music player app!"})}),Object(O.jsx)(C.a.Body,{children:"Hey there! You can just play around with the player and listen to some pre-existing songs, or you can sign up and start creating your own playlists!"}),Object(O.jsx)(C.a.Footer,{children:Object(O.jsx)(L.a,{variant:"primary",onClick:a,children:"Got it!"})})]})};var K=function(){var e=Object(n.useRef)(null),t=Object(n.useState)("false"!==localStorage.getItem("first_visit")),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),b=Object(u.a)(s,2),h=b[0],p=b[1],f=Object(n.useState)(0),w=Object(u.a)(f,2),C=w[0],k=w[1],N=Object(n.useState)({title:"Please Wait",artist:"",cover:"https://i1.sndcdn.com/artworks-000175930618-pg6ffe-t500x500.jpg",colors:["white","white","white"],audio:""}),L=Object(u.a)(N,2),P=L[0],T=L[1],I=Object(n.useState)(!1),H=Object(u.a)(I,2),M=H[0],z=H[1],A=Object(n.useState)({currentTime:0,duration:0,animationPercentage:0}),E=Object(u.a)(A,2),F=E[0],_=E[1],G=Object(n.useState)(!1),R=Object(u.a)(G,2),K=R[0],D=R[1],Y=Object(n.useState)(null),X=Object(u.a)(Y,2),J=X[0],Q=X[1],V=function(e){var t=e.target.currentTime,a=e.target.duration,n=Math.round(t),c=Math.round(a),r=Math.round(100*n/c);_(Object(d.a)(Object(d.a)({},F),{},{currentTime:t,duration:a,animationPercentage:r}))},Z=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.findIndex((function(e){return e.id===P.id})),t.next=3,T(h[(a+1)%h.length]);case 3:M&&e.current.play();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=Object(v.b)();Object(v.c)(e,(function(e){e?(Q(e),Object(x.b)(Object(x.c)(y,"".concat(e.uid,"/songs")),(function(e){p([]);var t=e.val();null!==t&&(k(Object.values(t).length),Object.values(t).forEach((function(e){p((function(t){return[].concat(Object(o.a)(t),[e])}))})))}))):(k(U.length),p(U))}))}),[J]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();h.length===C&&0!==C&&e(h[0])}),[h.length]),Object(O.jsxs)("div",{className:"biggest",style:{backgroundColor:P.colors[0],transition:"all 0.5s ease"},children:[Object(O.jsxs)("div",{className:"App ".concat(K?"library-active":""),style:{backgroundColor:P.colors[0]},children:[Object(O.jsx)(B,{libraryStatus:K,setLibraryStatus:D,currentUser:J,setCurrentUser:Q}),Object(O.jsx)(m,{currentSong:P}),Object(O.jsx)(g,{audioRef:e,isPlaying:M,setIsPlaying:z,currentSong:P,setSongInfo:_,songInfo:F,songs:h,setCurrentSong:T,setSongs:p}),Object(O.jsx)(S,{currentUser:J,audioRef:e,isPlaying:M,songs:h,setCurrentSong:T,setSongs:p,libraryStatus:K,currentSong:P}),Object(O.jsx)("audio",{onTimeUpdate:V,onLoadedMetadata:V,ref:e,src:P.audio,onEnded:Z})]}),Object(O.jsx)("div",{className:"filler",style:{backgroundColor:P.colors[0]}}),Object(O.jsx)(q,{show:c,onHide:function(){r(!1),localStorage.setItem("first_visit","false")}}),Object(O.jsx)("a",{href:"https://github.com/MehrdadQ/music-player-2.0",target:"blank",className:"github-link",children:Object(O.jsx)(j.a,{icon:W.a,size:"2x"})})]})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(K,{})}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.54759d95.chunk.js.map