{"version":3,"sources":["Promise.js","components/Player.js","components/Song.js","utils/firebase.js","components/LibrarySong.js","components/Library.js","components/Nav.js","util.js","App.js","index.js"],"names":["playAudio","isPlaying","audioRef","playPromise","current","play","undefined","then","audio","Player","currentSong","setIsPlaying","songInfo","setSongInfo","songs","setCurrentSong","setSongs","useEffect","newSongs","map","song","id","active","getTime","time","Math","floor","slice","skipTrackHandler","direction","currentIndex","findIndex","length","trackAnimation","transform","animationPercentage","className","currentTime","style","backgroundColor","colors","min","max","duration","value","type","onChange","e","target","onClick","icon","faAngleLeft","size","pause","faPause","faPlay","faAngleRight","Song","src","cover","alt","title","artist","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getDatabase","LibrarySong","currentUser","stopPropagation","console","log","remove","ref","uid","faTrash","Library","libraryStatus","AddModal","show","onHide","useState","setTitle","setArtist","setCover","setAudio","playerBackgroundColor","setPlayerBackgroundColor","trackerColor","setTrackerColor","libraryBackgroundColor","setLibraryBackgroundColor","Modal","centered","Header","closeButton","Title","Body","Form","Group","Label","Control","Accordion","defaultActiveKey","Item","color","onChangeComplete","hex","Footer","Button","uuid","set","handleAdd","LoginSuccess","setShowLoginSuccess","timeout","setTimeout","clearTimeout","role","NotLoggedInModal","setShowAddModal","setShowLoginModal","variant","LoginModal","setCurrentUser","action","setAction","email","setEmail","password","setPassword","passwordConfirm","setPasswordConfirm","errorMessage","setErrorMessage","handleChangeAction","userAction","handleCloseModal","controlId","placeholder","Alert","auth","getAuth","sendPasswordResetEmail","catch","error","code","handleResetPassword","disabled","ButtonGroup","name","defaultValue","ToggleButton","checked","cursor","createUserWithEmailAndPassword","userCredential","user","message","handleSignUp","signInWithEmailAndPassword","handleLogin","LogoutModal","showLogoutModal","setShowLogoutModal","signOut","window","location","reload","Nav","React","memo","setLibraryStatus","showAddModal","showLoginModal","showLoginSuccess","faSignInAlt","faSignOutAlt","faMusic","faPlus","default_songs","uuidv4","require","config","NewUserModal","App","useRef","localStorage","getItem","showNewUserModal","setShowNewUserModal","songNum","setSongNum","timeUpdateHandler","roundedCurrent","round","roundedDuration","animationPercentage2","songEndHandler","onAuthStateChanged","onValue","snapshot","data","val","Object","values","forEach","old","setInitialSong","transition","onTimeUpdate","onLoadedMetadata","onEnded","setItem","href","faGithub","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.54759d95.chunk.js","sourcesContent":["export const playAudio = (isPlaying, audioRef) => {\r\n  if (isPlaying) {\r\n    const playPromise = audioRef.current.play();\r\n    if (playPromise !== undefined) {\r\n      playPromise.then((audio) => {\r\n        audioRef.current.play();\r\n      });\r\n    }\r\n  }\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {\r\n  faPlay,\r\n  faAngleLeft,\r\n  faAngleRight,\r\n  faPause,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { playAudio } from \"../Promise\";\r\n\r\nconst Player = ({\r\n  audioRef,\r\n  currentSong,\r\n  isPlaying,\r\n  setIsPlaying,\r\n  songInfo,\r\n  setSongInfo,\r\n  songs,\r\n  setCurrentSong,\r\n  setSongs,\r\n}) => {\r\n  useEffect(() => {\r\n    const newSongs = songs.map((song) => {\r\n      if (song.id === currentSong.id) {\r\n        return { ...song, active: true };\r\n      } else {\r\n        return { ...song, active: false };\r\n      }\r\n    });\r\n\r\n    setSongs(newSongs);\r\n  }, [currentSong]);\r\n\r\n  const playSongHandler = () => {\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n      setIsPlaying(!isPlaying);\r\n    } else {\r\n      audioRef.current.play();\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  const getTime = (time) => {\r\n    return (\r\n      Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\r\n    );\r\n  };\r\n\r\n  const dragHandler = (e) => {\r\n    setSongInfo({ ...songInfo, currentTime: e.target.value });\r\n    audioRef.current.currentTime = e.target.value;\r\n  };\r\n\r\n  const skipTrackHandler = (direction) => {\r\n    let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\r\n    if (direction === \"skip-forward\") {\r\n      setCurrentSong(songs[(currentIndex + 1) % songs.length]);\r\n    } else {\r\n      if ((currentIndex - 1) % songs.length === -1) {\r\n        setCurrentSong(songs[songs.length - 1]);\r\n      } else {\r\n        setCurrentSong(songs[(currentIndex - 1) % songs.length]);\r\n      }\r\n    }\r\n    playAudio(isPlaying, audioRef);\r\n  };\r\n\r\n  const trackAnimation = {\r\n    transform: `translateX(${songInfo.animationPercentage}%)`,\r\n  };\r\n\r\n  return (\r\n    <div className=\"player-container\">\r\n      <div className=\"time-control\">\r\n        <p>{songInfo.currentTime ? getTime(songInfo.currentTime) : \"0:00\"}</p>\r\n        <div\r\n          className=\"track\"\r\n          style={{\r\n            backgroundColor: currentSong.colors[1],\r\n          }}\r\n        >\r\n          <input\r\n            min={0}\r\n            max={songInfo.duration || 0}\r\n            value={songInfo.currentTime}\r\n            type=\"range\"\r\n            onChange={dragHandler}\r\n          />\r\n          <div className=\"animate-track\" style={trackAnimation}></div>\r\n        </div>\r\n        <p>{songInfo.duration ? getTime(songInfo.duration) : \"0:00\"}</p>\r\n      </div>\r\n      <div className=\"play-control\">\r\n        <FontAwesomeIcon\r\n          onClick={() => skipTrackHandler(\"skip-back\")}\r\n          className=\"skip-b\"\r\n          icon={faAngleLeft}\r\n          size=\"2x\"\r\n        />\r\n        <FontAwesomeIcon\r\n          onClick={playSongHandler}\r\n          className=\"play\"\r\n          icon={isPlaying ? faPause : faPlay}\r\n          size=\"2x\"\r\n        />\r\n        <FontAwesomeIcon\r\n          onClick={() => skipTrackHandler(\"skip-forward\")}\r\n          className=\"skip-f\"\r\n          icon={faAngleRight}\r\n          size=\"2x\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Player;\r\n","import React from \"react\";\r\n\r\nconst Song = ({ currentSong }) => {\r\n  return (\r\n    <div className=\"song-container\">\r\n      <img src={currentSong.cover} alt=\"song cover\"></img>\r\n      <h2>{currentSong.title}</h2>\r\n      <h3>{currentSong.artist}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Song;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getDatabase } from \"firebase/database\";\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getDatabase(app);","import React from \"react\";\r\nimport { playAudio } from \"../Promise\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { db } from \"../utils/firebase.js\";\r\nimport { ref, remove } from \"firebase/database\"\r\n\r\nconst LibrarySong = ({\r\n  song,\r\n  songs,\r\n  currentUser,\r\n  setCurrentSong,\r\n  id,\r\n  audioRef,\r\n  isPlaying,\r\n  setSongs,\r\n}) => {\r\n  const songSelectHandler = () => {\r\n    setCurrentSong(song);\r\n\r\n    const newSongs = songs.map((song) => {\r\n      if (song.id === id) {\r\n        return { ...song, active: true };\r\n      } else {\r\n        return { ...song, active: false };\r\n      }\r\n    });\r\n\r\n    setSongs(newSongs);\r\n    playAudio(isPlaying, audioRef);\r\n  };\r\n\r\n  const handleDeleteSong = () => {\r\n    console.log(`deleting song ${song.id}`)\r\n    remove(ref(db, `${currentUser.uid}/songs/${song.id}`))\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`library-song ${song.active ? \"selected\" : \"\"}`}\r\n      onClick={songSelectHandler}\r\n    >\r\n      <img src={song.cover} alt=\"song cover\"></img>\r\n      <div className=\"song-description\">\r\n        <h3>{song.title}</h3>\r\n        <h4>{song.artist}</h4>\r\n      </div>\r\n      {currentUser === null ? <></> :\r\n      <div className=\"song-delete-button\" onClick={(e) => {e.stopPropagation(); handleDeleteSong()}}>\r\n        <FontAwesomeIcon icon={faTrash} />\r\n      </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LibrarySong;\r\n","import React from \"react\";\r\nimport LibrarySong from \"./LibrarySong\";\r\n\r\nconst Library = ({\r\n  songs,\r\n  currentUser,\r\n  setCurrentSong,\r\n  isPlaying,\r\n  audioRef,\r\n  setSongs,\r\n  libraryStatus,\r\n  currentSong,\r\n}) => {\r\n  return (\r\n    <div\r\n      className={`library ${libraryStatus ? \"active-library\" : \"\"}`}\r\n      style={{\r\n        backgroundColor: currentSong.colors[2],\r\n      }}\r\n    >\r\n      <h2>Library</h2>\r\n      {songs.length === 0 ? \r\n      <p style={{\"padding-left\": \"2rem\"}}>\r\n        You don't have any songs in your playlist, add some using the plus button!\r\n      </p> : <></>}\r\n      <div className=\"library-songs\">\r\n        {songs.map((song) => (\r\n          <LibrarySong\r\n            songs={songs}\r\n            song={song}\r\n            currentUser={currentUser}\r\n            setCurrentSong={setCurrentSong}\r\n            id={song.id}\r\n            key={song.id}\r\n            audioRef={audioRef}\r\n            isPlaying={isPlaying}\r\n            setSongs={setSongs}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Library;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMusic, faPlus, faSignOutAlt, faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Modal, Button, Form, Accordion, ButtonGroup, ToggleButton, Alert } from 'react-bootstrap';\r\nimport { db } from \"../utils/firebase.js\";\r\nimport { ref, set } from \"firebase/database\"\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail } from \"firebase/auth\";\r\nimport { uid } from \"uid\"\r\nimport { SliderPicker } from 'react-color';\r\nimport { Portal } from 'react-portal';\r\n\r\nconst AddModal = ({ show, onHide, currentUser }) => {\r\n  const [title, setTitle] = useState(\"\")\r\n  const [artist, setArtist] = useState(\"\")\r\n  const [cover, setCover] = useState(\"\")\r\n  const [audio, setAudio] = useState(\"\")\r\n  const [playerBackgroundColor, setPlayerBackgroundColor] = useState(\"white\")\r\n  const [trackerColor, setTrackerColor] = useState(\"black\")\r\n  const [libraryBackgroundColor, setLibraryBackgroundColor] = useState(\"lightgray\")\r\n\r\n  const handleAdd = () => {\r\n    const uuid = uid()\r\n    const colors = [playerBackgroundColor, trackerColor, libraryBackgroundColor]\r\n    const song = {\r\n      title,\r\n      artist,\r\n      cover,\r\n      audio,\r\n      id: uuid,\r\n      colors\r\n    }\r\n    set(ref(db, `${currentUser.uid}/songs/${uuid}`), song)\r\n    \r\n    setTitle(\"\")\r\n    setArtist(\"\")\r\n    setCover(\"\")\r\n    setAudio(\"\")\r\n    setPlayerBackgroundColor(\"rgb(255, 255, 255)\")\r\n    setTrackerColor(\"rgb(0, 0, 0)\")\r\n    setLibraryBackgroundColor(\"rgb(255, 255, 255)\")\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Add new song\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Song title</Form.Label>\r\n            <Form.Control type=\"text\" value={title} \r\n            onChange={(e) => setTitle(e.target.value)}/>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Artist</Form.Label>\r\n            <Form.Control type=\"text\" value={artist} \r\n            onChange={(e) => setArtist(e.target.value)}/>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Cover photo link</Form.Label>\r\n            <Form.Control type=\"text\" value={cover} \r\n            onChange={(e) => setCover(e.target.value)}/>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Audio link</Form.Label>\r\n            <Form.Control type=\"text\"  value={audio} \r\n            onChange={(e) => setAudio(e.target.value)}/>\r\n          </Form.Group>\r\n\r\n          <Accordion defaultActiveKey=\"0\">\r\n            <Accordion.Item>\r\n              <Accordion.Header>Customize Colors</Accordion.Header>\r\n              <Accordion.Body>\r\n                <Form.Group className=\"flex mb-3\">\r\n                  <Form.Label>Player Background Color</Form.Label>\r\n                  <SliderPicker\r\n                    color={playerBackgroundColor}\r\n                    onChangeComplete={(e) => setPlayerBackgroundColor(e.hex)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"flex mb-3\">\r\n                  <Form.Label>Tracker Color</Form.Label>\r\n                  <SliderPicker\r\n                    color={trackerColor}\r\n                    onChangeComplete={(e) => setTrackerColor(e.hex)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"flex mb-3\">\r\n                  <Form.Label>Library Background Color</Form.Label>\r\n                  <SliderPicker\r\n                    color={libraryBackgroundColor}\r\n                    onChangeComplete={(e) => setLibraryBackgroundColor(e.hex)}\r\n                  />\r\n                </Form.Group>\r\n              </Accordion.Body>\r\n            </Accordion.Item>\r\n          </Accordion>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button onClick={() => handleAdd()}>Add</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nconst LoginSuccess = ({ show, setShowLoginSuccess }) => {\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setShowLoginSuccess(false);\r\n    }, 7000);\r\n    return () => clearTimeout(timeout);\r\n  }, []);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Portal>\r\n      <div className=\"wrapper\">\r\n        <div className=\"alert alert-success success-box\" role=\"alert\">\r\n          Successfully logged in!\r\n        </div>\r\n      </div>\r\n    </Portal>\r\n  );\r\n}\r\n\r\nconst NotLoggedInModal = ({ show, onHide, setShowAddModal, setShowLoginModal }) => {\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <h4>Login required</h4>\r\n      </Modal.Header>\r\n      <Modal.Body>To add songs to your playlist, please log in or sign up if you don't have an account.</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {setShowAddModal(false)}}>Cancel\r\n        </Button>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {setShowAddModal(false); setShowLoginModal(true)}}>Log in\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst LoginModal = ({ show, onHide, setCurrentUser, setShowLoginSuccess, setShowLoginModal }) => {\r\n  const [action, setAction] = useState(\"login\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\")\r\n  const [errorMessage, setErrorMessage] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    setErrorMessage(\"\")\r\n  }, [action])\r\n\r\n  const handleChangeAction = (userAction) => {\r\n    setEmail(\"\")\r\n    setPassword(\"\")\r\n    setPasswordConfirm(\"\")\r\n    setAction(userAction)\r\n  }\r\n\r\n  const handleSignUp = () => {\r\n    const auth = getAuth();\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        setCurrentUser(userCredential.user)\r\n        setShowLoginSuccess(true)\r\n        setShowLoginModal(false)\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === 'auth/email-already-in-use') {\r\n          setErrorMessage(\"The email address you provided is already in use. Please try a different email address.\");\r\n        } else if (error.code === 'auth/invalid-email') {\r\n          setErrorMessage(\"Invalid email address entered.\");\r\n        } else if (error.code === 'auth/operation-not-allowed') {\r\n          setErrorMessage(\"This operation is not allowed. Please contact the site administrator for more information.\");\r\n        } else if (error.code === 'auth/weak-password') {\r\n          setErrorMessage(\"The password you provided is not strong enough. Please choose a stronger password.\");\r\n        } else {\r\n          setErrorMessage(error.message);\r\n        }\r\n      });\r\n  }\r\n    \r\n  const handleLogin = () => {\r\n    const auth = getAuth();\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        // Signed in \r\n        setCurrentUser(userCredential.user)\r\n        setShowLoginModal(false)\r\n        setShowLoginSuccess(true)\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === \"auth/invalid-email\") {\r\n          setErrorMessage(\"Invalid email address entered.\")\r\n        } else if (error.code === \"auth/user-not-found\") {\r\n          setErrorMessage(\"The email address you entered is not registered. Please check the email address and try again, or sign up for a new account.\")\r\n        } else if (error.code === \"auth/wrong-password\") {\r\n          setErrorMessage(\"The password you entered is incorrect. Please try again.\")\r\n        } else if (error.code === \"auth/user-disabled\") {\r\n          setErrorMessage(\"Your account has been disabled. Please contact the site administrator for more information.\")\r\n        } else if (error.code === \"auth/too-many-requests\") {\r\n          setErrorMessage(\"There have been too many failed login attempts. Please try again later.\")\r\n        } else {\r\n          setErrorMessage(error.message)\r\n        }\r\n      });\r\n  }\r\n\r\n  const handleResetPassword = () => {\r\n    const auth = getAuth();\r\n    sendPasswordResetEmail(auth, email)\r\n      .then(() => {\r\n        setAction(\"reset_email_sent\")\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === 'auth/invalid-email') {\r\n          setErrorMessage('Invalid email address entered.');\r\n        } else if (error.code === 'auth/user-not-found') {\r\n          setErrorMessage(\"We could not find an account associated with the email address you provided. Please check that you have entered the correct email address or create a new account.\");\r\n        } else if (error.code === 'auth/too-many-requests') {\r\n          setErrorMessage(\"Too many requests, please try again later.\");\r\n        } else {\r\n          setErrorMessage('An unexpected error occurred. Please try again later.');\r\n        }\r\n      });\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    onHide();\r\n    setTimeout(() => {\r\n      handleChangeAction(\"login\");\r\n    }, 300);\r\n  }\r\n  \r\n  if (action === \"reset_password\") {\r\n    return (\r\n      <Modal\r\n        show={show}\r\n        onHide={handleCloseModal}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Reset Password\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group controlId=\"formBasicEmail\">\r\n              <Form.Label>Email address</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                placeholder=\"Enter email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {errorMessage !== \"\" ?\r\n            <>\r\n              <Alert variant=\"danger\" className=\"mt-3\">{errorMessage}</Alert>\r\n            </> : <></>\r\n            }\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={handleCloseModal}>Close</Button>\r\n          <Button\r\n            onClick={() => handleResetPassword()}\r\n            disabled={email === \"\"}\r\n          >Reset Password</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  } else if (action === \"reset_email_sent\") {\r\n    return (\r\n      <Modal\r\n        show={show} \r\n        onHide={handleCloseModal}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Password reset email sent</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>A request to reset your password has been sent to your email address.</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  return (\r\n    action !== \"reset_password\" ?\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header className=\"ps-5\" closeButton>\r\n        <ButtonGroup type=\"radio\" name=\"options\" defaultValue={1}>\r\n          <ToggleButton\r\n            className=\"shadow-none\"\r\n            type=\"checkbox\"\r\n            variant=\"outline-primary\"\r\n            checked={action === \"login\"}\r\n            onClick={() => handleChangeAction(\"login\")}\r\n          >\r\n            Log in\r\n          </ToggleButton>\r\n          <ToggleButton\r\n            className=\"shadow-none\"\r\n            type=\"checkbox\"\r\n            variant=\"outline-primary\"\r\n            checked={action === \"signup\"}\r\n            onClick={() => handleChangeAction(\"signup\")}\r\n          >\r\n            Sign Up\r\n          </ToggleButton>\r\n        </ButtonGroup>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"p-5\">\r\n        <Form>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          {action === \"signup\" ?\r\n          <>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Confirm Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Confirm password\"\r\n                value={passwordConfirm}\r\n                onChange={(e) => setPasswordConfirm(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n          </> : <></>}\r\n          {action === \"login\" ? <div className=\"d-flex justify-content-end\">\r\n            <p\r\n              className=\"text-primary font-weight-bold text-sm\" \r\n              variant=\"secondary\"\r\n              onClick={() => {setAction(\"reset_password\")}}\r\n              style={{cursor:\"pointer\"}}\r\n            >\r\n              Forgot your password?\r\n            </p>\r\n          </div> : <></>}\r\n        </Form>\r\n\r\n\r\n        {errorMessage !== \"\" ?\r\n        <>\r\n          <Alert variant=\"danger\" className=\"mt-3\">{errorMessage}</Alert>\r\n        </> : <></>\r\n        }\r\n\r\n\r\n        {action === \"signup\" && password.length < 6 && password !== \"\" ?\r\n          <>\r\n            <Alert variant=\"danger\" className=\"mt-3\">Password should be at least 6 characters</Alert>\r\n          </> : action === \"signup\" && password !== passwordConfirm && passwordConfirm !== \"\" ? <>\r\n            <Alert variant=\"danger\" className=\"mt-3\">Passwords do not match</Alert>\r\n          </> : <></>\r\n        }\r\n      </Modal.Body>\r\n      <Modal.Footer className=\"ps-5 pe-5\">\r\n        <Button\r\n          className=\"w-100\"\r\n          disabled={(action === \"signup\" && (password !== passwordConfirm || password.length < 6)) || email === \"\"}\r\n          onClick={action === \"signup\" ? ()=>{handleSignUp()} : ()=>{handleLogin()}}\r\n        >\r\n          {action === \"login\" ? `Log in` : `Sign up`}\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal> :\r\n    <></>\r\n  );\r\n}\r\n\r\nconst LogoutModal = ({ showLogoutModal, setShowLogoutModal }) => {\r\n  const handleSignOut = () => {\r\n    const auth = getAuth()\r\n    signOut(auth)\r\n    window.location.reload();\r\n  }\r\n\r\n  return <Modal \r\n    show={showLogoutModal} \r\n    onHide={() => setShowLogoutModal(false)}\r\n    size=\"lg\"\r\n    aria-labelledby=\"contained-modal-title-vcenter\"\r\n    centered\r\n  >\r\n  <Modal.Header closeButton>\r\n    <Modal.Title>Sign Out</Modal.Title>\r\n  </Modal.Header>\r\n  <Modal.Body>\r\n    Are you sure you want to sign out?\r\n  </Modal.Body>\r\n  <Modal.Footer>\r\n    <Button variant=\"secondary\" onClick={() => setShowLogoutModal(false)}>\r\n      Cancel\r\n    </Button>\r\n    <Button variant=\"danger\" onClick={handleSignOut}>\r\n      Sign Out\r\n    </Button>\r\n  </Modal.Footer>\r\n</Modal>\r\n}\r\n\r\nconst Nav = React.memo(({ libraryStatus, setLibraryStatus, currentUser, setCurrentUser }) => {\r\n  const [showAddModal, setShowAddModal] = useState(false)\r\n  const [showLoginModal, setShowLoginModal] = useState(false)\r\n  const [showLogoutModal, setShowLogoutModal] = useState(false)\r\n  const [showLoginSuccess, setShowLoginSuccess] = useState(false)\r\n\r\n  return (\r\n    <>\r\n      <nav>\r\n        {currentUser === null ? \r\n          <button onClick={() => setShowLoginModal(true)}>\r\n            <FontAwesomeIcon icon={faSignInAlt} size={\"2x\"} />\r\n          </button> : <button onClick={() => setShowLogoutModal(!showLogoutModal)}>\r\n            <FontAwesomeIcon icon={faSignOutAlt} size={\"2x\"} />\r\n          </button>\r\n        }\r\n        <button onClick={() => setLibraryStatus(!libraryStatus)}>\r\n          <FontAwesomeIcon icon={faMusic} size={\"2x\"} />\r\n        </button>\r\n        <button onClick={() => setShowAddModal(!showAddModal)}>\r\n          <FontAwesomeIcon icon={faPlus} size={\"2x\"} />\r\n        </button>\r\n      </nav>\r\n\r\n      <LoginSuccess\r\n        show={showLoginSuccess}\r\n        onHide={() => setShowLoginSuccess(false)}\r\n        setShowLoginSuccess={setShowLoginSuccess}\r\n      />\r\n\r\n      {currentUser ? \r\n        <AddModal\r\n          show={showAddModal}\r\n          onHide={() => setShowAddModal(false)}\r\n          currentUser={currentUser}\r\n        /> : \r\n        <NotLoggedInModal\r\n          show={showAddModal}\r\n          onHide={() => setShowAddModal(false)}\r\n          setShowLoginModal={setShowLoginModal}\r\n          setShowAddModal={setShowAddModal}\r\n        />\r\n      }\r\n\r\n      <LoginModal\r\n        show={showLoginModal}\r\n        onHide={() => setShowLoginModal(false)}\r\n        setCurrentUser={setCurrentUser}\r\n        setShowLoginSuccess={setShowLoginSuccess}\r\n        setShowLoginModal={setShowLoginModal}\r\n      />\r\n\r\n      <LogoutModal\r\n        showLogoutModal={showLogoutModal}\r\n        setShowLogoutModal={setShowLogoutModal}\r\n      />\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Nav;\r\n","import { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport const default_songs = [\r\n    {\r\n      title: \"Calm River\",\r\n      artist: \"Lesfm\",\r\n      cover:\r\n        \"https://i.pinimg.com/originals/d6/18/78/d61878a7cfd287a204e645118f7c22fb.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(120,218,239)\", \"rgb(28,138,169)\", \"rgb(180,218,239)\"],\r\n      audio: \"https://cdn.pixabay.com/audio/2021/08/11/audio_be8e122dc7.mp3\",\r\n    },\r\n    {\r\n      title: \"Physical\",\r\n      artist: \"Mepa ExyZ\",\r\n      cover: \"https://i1.sndcdn.com/artworks-000641681800-manbde-t500x500.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(179,164,194)\", \"rgb(120, 90, 130)\", \"rgb(132,161,203)\"],\r\n      audio: \"https://cdn.pixabay.com/audio/2021/09/06/audio_555a888e1b.mp3\",\r\n    },\r\n    {\r\n      title: \"Where are we now\",\r\n      artist: \"beetpro\",\r\n      cover:\r\n        \"https://assets.pinshape.com/uploads/user/avatar/1218825/cover_1551241507.png\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(201,149,99)\", \"rgb(29,19,82)\", \"rgb(104,182,231)\"],\r\n      audio: \"https://cdn.pixabay.com/audio/2021/03/07/audio_1d411f3a4c.mp3\",\r\n    },\r\n    {\r\n      title: \"Cosy\",\r\n      artist: \"Prigida\",\r\n      cover:\r\n        \"https://cdn.musicvine.com/images/prigida-avatar-v1_6180582698519834.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(85,148,161)\", \"rgb(30,66,71)\", \"rgb(175,180,146)\"],\r\n      audio:\r\n        \"https://cdn.uppbeat.io/audio-output/258/5856/main-version/streaming-previews/STREAMING-cosy-prigida-main-version-02-58-17021.mp3\",\r\n    },\r\n    {\r\n      title: \"Dream Slow\",\r\n      artist: \"Wisanga\",\r\n      cover:\r\n        \"https://cdn.uppbeat.io/images/Wisanga_Avatar_4157365593534235.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(143,197,220)\", \"rgb(1,38,72)\", \"rgb(212,160,204)\"],\r\n      audio:\r\n        \"https://cdn.uppbeat.io/audio-output/471/6799/main-version/streaming-previews/STREAMING-dream-slow-wisanga-main-version-02-19-20578.mp3\",\r\n    },\r\n    {\r\n      title: \"Lucidity\",\r\n      artist: \"FE77A\",\r\n      cover:\r\n        \"https://cdn.musicvine.com/images/fe77a-avatar_8827208227206825.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(114,134,172)\", \"rgb(72,64,74)\", \"rgb(176,166,131)\"],\r\n      audio:\r\n        \"https://cdn.uppbeat.io/audio-output/432/1113/main-version/streaming-previews/STREAMING-lucidity-fe77a-main-version-02-28-3710.mp3\",\r\n    },\r\n    {\r\n      title: \"4am\",\r\n      artist: \"noxz\",\r\n      cover:\r\n        \"https://cdn.musicvine.com/images/noxz-avatar-v1_5269450939293254.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(170,170,176)\", \"rgb(90,91,95)\", \"rgb(217,220,167)\"],\r\n      audio:\r\n        \"https://cdn.uppbeat.io/audio-output/249/1657/main-version/streaming-previews/STREAMING-4am-noxz-main-version-02-20-5868.mp3\",\r\n    },\r\n    {\r\n      title: \"Snowfall\",\r\n      artist: \"walz\",\r\n      cover:\r\n        \"https://cdn.musicvine.com/images/walz-avatar-v2_8353515061791827.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(252,211,182)\", \"rgb(63,52,41)\", \"rgb(241,238,236)\"],\r\n      audio:\r\n        \"https://cdn.uppbeat.io/audio-output/240/5935/main-version/streaming-previews/STREAMING-snowfall-walz-main-version-02-12-17217.mp3\",\r\n    },\r\n    {\r\n      title: \"Selfless\",\r\n      artist: \"SENSHO\",\r\n      cover:\r\n        \"https://cdn.musicvine.com/images/Sensho_Avatar_1955111997031914.jpg\",\r\n      id: uuidv4(),\r\n      colors: [\"rgb(243,222,172)\", \"rgb(70,86,196)\", \"rgb(163,183,109)\"],\r\n      audio:\r\n        \"https://cdn.uppbeat.io/audio-output/395/190/main-version/streaming-previews/STREAMING-selfless-sensho-main-version-02-14-883.mp3\",\r\n    },\r\n  ];\r\n\r\nexport default default_songs;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport \"./styles/app.scss\";\r\n\r\nimport Player from \"./components/Player\";\r\nimport Song from \"./components/Song\";\r\nimport Library from \"./components/Library\";\r\nimport Nav from \"./components/Nav\";\r\nimport { db } from \"./utils/firebase.js\";\r\nimport { ref, onValue } from \"firebase/database\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { default_songs } from './util.js'\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nrequire('dotenv').config();\r\n\r\nconst NewUserModal = ({ show, onHide }) => {\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <h4>Welcome to the Music player app!</h4>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        Hey there! You can just play around with the player and listen to some pre-existing songs, or\r\n        you can sign up and start creating your own playlists!\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={onHide}>Got it!\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const audioRef = useRef(null);\r\n  const [showNewUserModal, setShowNewUserModal] = useState(localStorage.getItem(\"first_visit\") !== \"false\")\r\n  const [songs, setSongs] = useState([]);\r\n  const [songNum, setSongNum] = useState(0)\r\n  const [currentSong, setCurrentSong] = useState({\r\n    title: \"Please Wait\",\r\n    artist: \"\",\r\n    cover: \"https://i1.sndcdn.com/artworks-000175930618-pg6ffe-t500x500.jpg\",\r\n    colors: [\"white\", \"white\", \"white\"],\r\n    audio: \"\",\r\n  });\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [songInfo, setSongInfo] = useState({\r\n    currentTime: 0,\r\n    duration: 0,\r\n    animationPercentage: 0,\r\n  });\r\n  const [libraryStatus, setLibraryStatus] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null)\r\n\r\n  const timeUpdateHandler = (e) => {\r\n    const current = e.target.currentTime;\r\n    const duration = e.target.duration;\r\n    const roundedCurrent = Math.round(current);\r\n    const roundedDuration = Math.round(duration);\r\n    const animationPercentage2 = Math.round(\r\n      (100 * roundedCurrent) / roundedDuration\r\n    );\r\n    setSongInfo({\r\n      ...songInfo,\r\n      currentTime: current,\r\n      duration: duration,\r\n      animationPercentage: animationPercentage2,\r\n    });\r\n  };\r\n\r\n  const songEndHandler = async () => {\r\n    let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\r\n    await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\r\n    if (isPlaying) {\r\n      audioRef.current.play();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        setCurrentUser(user)\r\n        onValue(ref(db, `${user.uid}/songs`), snapshot => {\r\n          setSongs([])\r\n          const data = snapshot.val()\r\n          if (data !== null) {\r\n            setSongNum(Object.values(data).length)\r\n            Object.values(data).forEach(song => {\r\n              setSongs(old => [...old, song])\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        setSongNum(default_songs.length)\r\n        setSongs(default_songs)\r\n      }\r\n    });\r\n  }, [currentUser])\r\n  \r\n  useEffect(() => {\r\n    const setInitialSong = async (e) => {\r\n      await setCurrentSong(e)\r\n    }\r\n    if (songs.length === songNum && songNum !== 0) {\r\n      setInitialSong(songs[0])\r\n    }\r\n  }, [songs.length])\r\n\r\n  return (\r\n    <div\r\n      className=\"biggest\"\r\n      style={{\r\n        backgroundColor: currentSong.colors[0],\r\n        transition: \"all 0.5s ease\",\r\n      }}\r\n    >\r\n      <div\r\n        className={`App ${libraryStatus ? \"library-active\" : \"\"}`}\r\n        style={{\r\n          backgroundColor: currentSong.colors[0],\r\n        }}\r\n      >\r\n        <Nav\r\n          libraryStatus={libraryStatus}\r\n          setLibraryStatus={setLibraryStatus}\r\n          currentUser={currentUser}\r\n          setCurrentUser={setCurrentUser}\r\n        />\r\n        <Song currentSong={currentSong} />\r\n        <Player\r\n          audioRef={audioRef}\r\n          isPlaying={isPlaying}\r\n          setIsPlaying={setIsPlaying}\r\n          currentSong={currentSong}\r\n          setSongInfo={setSongInfo}\r\n          songInfo={songInfo}\r\n          songs={songs}\r\n          setCurrentSong={setCurrentSong}\r\n          setSongs={setSongs}\r\n        />\r\n        <Library\r\n          currentUser={currentUser}\r\n          audioRef={audioRef}\r\n          isPlaying={isPlaying}\r\n          songs={songs}\r\n          setCurrentSong={setCurrentSong}\r\n          setSongs={setSongs}\r\n          libraryStatus={libraryStatus}\r\n          currentSong={currentSong}\r\n        />\r\n        <audio\r\n          onTimeUpdate={timeUpdateHandler}\r\n          onLoadedMetadata={timeUpdateHandler}\r\n          ref={audioRef}\r\n          src={currentSong.audio}\r\n          onEnded={songEndHandler}\r\n        ></audio>\r\n      </div>\r\n      <div\r\n        className=\"filler\"\r\n        style={{\r\n          backgroundColor: currentSong.colors[0],\r\n        }}\r\n      ></div>\r\n      <NewUserModal\r\n        show={showNewUserModal}\r\n        onHide={() => {setShowNewUserModal(false); localStorage.setItem(\"first_visit\", \"false\")}}\r\n      />\r\n      <a href=\"https://github.com/MehrdadQ/music-player-2.0\" target=\"blank\" className=\"github-link\">\r\n        <FontAwesomeIcon icon={faGithub} size={\"2x\"} />\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n"],"sourceRoot":""}